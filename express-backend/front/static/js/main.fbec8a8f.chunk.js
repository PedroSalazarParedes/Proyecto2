(window["webpackJsonpreact-frontend"]=window["webpackJsonpreact-frontend"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){e.exports=n(25)},,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(11),c=n.n(i),s=(n(17),n(1)),l=n(2),o=n(5),u=n(3),p=n(6),m=n(4),d=(n(18),n(7)),f=n.n(d),h=n(8),v=(n(20),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={recipes:[]},n.clickRecipe=n.clickRecipe.bind(Object(p.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(h.a)(f.a.mark((function t(){var n,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://hangryff.herokuapp.com/api/recipes/all");case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,e.setState({recipes:a});case 7:case"end":return t.stop()}}),t)})))()}},{key:"clickRecipe",value:function(e){var t=this;return function(){return t.props.goToRecipe(e)}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"recipes-explorer-container"},this.state.recipes.map((function(t,n){return r.a.createElement("div",{key:n,onClick:e.clickRecipe(t)},r.a.createElement("span",null,t._fields[0].properties.title),r.a.createElement("img",{src:t._fields[0].properties.image,alt:t._fields[0].properties.image}),r.a.createElement("div",{className:"recipe-item-footer"},r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-utensils"}),r.a.createElement("span",null,t._fields[0].properties.servings)),r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-dollar-sign"}),r.a.createElement("span",null,t._fields[0].properties.pricePerServing))))})))}}]),t}(r.a.Component)),g=n(9);n(21);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={recipe:void 0},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="_fields"in this.props.recipe?this.props.recipe._fields[0].properties.title:this.props.recipe.title;Object(h.a)(f.a.mark((function n(){var a,r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://hangryff.herokuapp.com/api/recipes/".concat(encodeURIComponent(t)));case 2:return a=n.sent,n.next=5,a.json();case 5:r=n.sent,e.parseRecipe(r);case 7:case"end":return n.stop()}}),n)})))()}},{key:"parseRecipe",value:function(e){var t={},n={};e.map((function(e){return e._fields[0].segments})).flat().forEach((function(e){var a="".concat(e.relationship.start,"->").concat(e.relationship.end);e.end.identity in t||(t[e.end.identity]=e.end),e.start.identity in t||(t[e.start.identity]=e.start),a in n||(n[a]=e.relationship)}));var a=Object.values(t).filter((function(e){return"Recipe"===e.labels[0]}))[0].properties;Object.values(n).filter((function(e){return"StepIngredient"===e.type})).forEach((function(e){var n=t[e.start];"ingredients"in n.properties||(n.properties.ingredients=[]),n.properties.ingredients.push(E({},t[e.end].properties,{meta:e.properties}))})),Object.values(n).filter((function(e){return"StepEquipment"===e.type})).forEach((function(e){var n=t[e.start];"equipment"in n.properties||(n.properties.equipment=[]),n.properties.equipment.push(E({},t[e.end].properties,{meta:e.properties}))})),a.steps={},Object.values(n).filter((function(e){return"StepLink"===e.type})).forEach((function(e){return a.steps[e.properties.step]=t[e.end].properties})),this.setState({recipe:a})}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,"Loading...");return this.state.recipe&&(t=r.a.createElement("div",{id:"recipe-container"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",null,this.state.recipe.title),r.a.createElement("img",{src:this.state.recipe.image,alt:this.state.recipe.image})),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-heartbeat"}),r.a.createElement("span",null,this.state.recipe.healthScore)),r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-utensils"}),r.a.createElement("span",null,this.state.recipe.servings)),r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-dollar-sign"}),r.a.createElement("span",null,this.state.recipe.pricePerServing)),r.a.createElement("div",null,r.a.createElement("a",{href:this.state.recipe.source},this.state.recipe.sourceName)))),r.a.createElement("div",null,Object.keys(this.state.recipe.steps).map((function(t){var n=e.state.recipe.steps[t];return r.a.createElement("div",{key:"step_".concat(t),className:"step"},r.a.createElement("div",null,r.a.createElement("span",null,"Step ".concat(t)),r.a.createElement("span",null,n.text)),r.a.createElement("div",null,n.ingredients&&r.a.createElement("div",{className:"extra"},r.a.createElement("span",null,"Ingredients"),r.a.createElement("div",null,n.ingredients.map((function(e,t){return r.a.createElement("div",{key:"ing_".concat(t),className:"ingredient"},r.a.createElement("span",null,e.name),r.a.createElement("span",null,e.meta.meta&&e.meta.meta.join(", ")||"-"),r.a.createElement("img",{src:"https://spoonacular.com/cdn/ingredients_100x100/".concat(e.image),alt:e.image}),r.a.createElement("span",null,"Quantity"),r.a.createElement("span",null,"".concat(e.meta.amount," ").concat(e.meta.measures_metric_unitLong)))})))),n.equipment&&r.a.createElement("div",{className:"extra"},r.a.createElement("span",null,"Equipment"),r.a.createElement("div",null,n.equipment.map((function(e,t){return r.a.createElement("div",{key:"equ_".concat(t),className:"equipment"},r.a.createElement("span",null,e.name),r.a.createElement("img",{src:"https://spoonacular.com/cdn/equipment_100x100/".concat(e.image),alt:e.image}))}))))))}))))),t}}]),t}(r.a.Component),j=(n(22),function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"login-container"},r.a.createElement("div",null,r.a.createElement("div",{id:"logo"}),r.a.createElement("input",{type:"text",placeholder:"username"}),r.a.createElement("input",{type:"password",placeholder:"password"}),r.a.createElement("div",null,r.a.createElement("button",null,"Login"),r.a.createElement("button",null,"Sign up"))))}}]),t}(r.a.Component)),y=(n(23),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={active:!1},n.selectIngredientHandler=n.selectIngredientHandler.bind(Object(p.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"selectIngredientHandler",value:function(){var e=this;this.setState((function(e){return{active:!e.active}}),(function(){e.props.newIngredientHandler(e.props.ingredient,e.state.active)}))}},{key:"render",value:function(){return r.a.createElement("div",{key:"ing_".concat(this.props.ingredient.identity),className:"ingredient-item ".concat(this.state.active?"active":""),onClick:this.selectIngredientHandler},r.a.createElement("img",{src:"https://spoonacular.com/cdn/ingredients_100x100/".concat(this.props.ingredient.image),alt:this.props.ingredient.image}),r.a.createElement("span",null,this.props.ingredient.name))}}]),t}(r.a.Component));n(24);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={ingredients:{},recipes:[]},n.updateIngredient=n.updateIngredient.bind(Object(p.a)(n)),n.search=n.search.bind(Object(p.a)(n)),n.clickRecipe=n.clickRecipe.bind(Object(p.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"updateIngredient",value:function(e,t){t?this.setState((function(t){return t.ingredients[e.identity]=w({},e,{pos:Object.keys(t.ingredients).length}),t})):this.setState((function(t){return delete t.ingredients[e.identity],t}))}},{key:"search",value:function(){var e=this;Object(h.a)(f.a.mark((function t(){var n,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://hangryff.herokuapp.com/api/recipes/search",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({ingredients:Object.values(e.state.ingredients).map((function(e){return e.name}))})});case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,e.setState({recipes:a.map((function(e){return e._fields})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return w({},e[0].properties,{extras:e[1]})}))});case 7:case"end":return t.stop()}}),t)})))()}},{key:"clickRecipe",value:function(e){var t=this;return function(){return t.props.goToRecipe(e)}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"result-container"},r.a.createElement("div",null,0!==Object.values(this.state.ingredients).length&&Object.values(this.state.ingredients).sort((function(e,t){return e.pos-t.pos})).map((function(e){return r.a.createElement("span",{className:"badge",key:e.identity},e.name)})),0===Object.values(this.state.ingredients).length&&r.a.createElement("span",{id:"info"},"Add a Search Criteria")),r.a.createElement("div",{id:"recipes-results-container"},this.state.recipes.map((function(t,n){return r.a.createElement("div",{className:"recipe-result-item",key:"rec_".concat(n),onClick:e.clickRecipe(t)},r.a.createElement("img",{src:t.image,alt:t.image}),r.a.createElement("span",null,t.title),r.a.createElement("span",null,"Extra Ingredients: ",t.extras))}))),r.a.createElement("button",{onClick:this.search},r.a.createElement("i",{className:"fas fa-search"})))}}]),t}(r.a.Component);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={searchCriteria:1,ingredients:[]},n.searchCriteriaHandler=n.searchCriteriaHandler.bind(Object(p.a)(n)),n.newIngredientHandler=n.newIngredientHandler.bind(Object(p.a)(n)),n.resultRef=r.a.createRef(),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(h.a)(f.a.mark((function t(){var n,a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://hangryff.herokuapp.com/api/ingredients/all");case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,r=a.records.map((function(e){return R({},e._fields[0].properties,{identity:e._fields[0].identity})})).sort((function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:1})),e.setState({ingredients:r});case 8:case"end":return t.stop()}}),t)})))()}},{key:"searchCriteriaHandler",value:function(e){var t=this;return function(){return t.setState({searchCriteria:e})}}},{key:"newIngredientHandler",value:function(e,t){this.resultRef.updateIngredient(e,t)}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",{id:"name-search-container"},r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Recipe Name"}),r.a.createElement("button",null,"Search")));return 1===this.state.searchCriteria&&(t=r.a.createElement("div",{id:"ingredients-search-container"},0===this.state.ingredients.length&&r.a.createElement("span",null,"Cargando..."),this.state.ingredients.map((function(t,n){return r.a.createElement(y,{ingredient:t,key:"ing_".concat(n),newIngredientHandler:e.newIngredientHandler})})))),r.a.createElement("div",{id:"search-container"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("button",{onClick:this.searchCriteriaHandler(1),className:1===this.state.searchCriteria?"active":""},"By Ingredients")),t),r.a.createElement("div",null,r.a.createElement(S,{ref:function(t){return e.resultRef=t},goToRecipe:this.props.goToRecipe})))}}]),t}(r.a.Component),x=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Create a new recipe!"),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Title"}),r.a.createElement("input",{placeholder:"Image Name"}),r.a.createElement("input",{type:"number",placeholder:"Health Score"}),r.a.createElement("input",{type:"number",placeholder:"Servings"}),r.a.createElement("input",{type:"number",placeholder:"Price Per Serving"})))}}]),t}(r.a.Component),N=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).goTo=function(e){return function(){return n.setState({actualMenu:e})}},n.state={actualMenu:1,actualRecipe:void 0},n.goToRecipe=n.goToRecipe.bind(Object(p.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"goToRecipe",value:function(e){this.setState({actualMenu:3,actualRecipe:e})}},{key:"render",value:function(){var e=void 0;switch(this.state.actualMenu){case 0:e=r.a.createElement(j,null);break;case 1:e=r.a.createElement(v,{goToRecipe:this.goToRecipe});break;case 2:e=r.a.createElement(x,null);break;case 3:e=r.a.createElement(O,{recipe:this.state.actualRecipe});break;case 4:e=r.a.createElement(P,{goToRecipe:this.goToRecipe});break;default:e=r.a.createElement("div",null,"Hangryff")}return r.a.createElement("div",null,r.a.createElement("div",{id:"header"},r.a.createElement("div",{id:"icon"}),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.goTo(0),className:0===this.state.actualMenu?"active":""},"Login"),r.a.createElement("button",{onClick:this.goTo(1),className:1===this.state.actualMenu||3===this.state.actualMenu?"active":""},"Explorer"),r.a.createElement("button",{onClick:this.goTo(4),className:4===this.state.actualMenu?"active":""},"Search"))),r.a.createElement("div",null,e))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[12,1,2]]]);
//# sourceMappingURL=main.fbec8a8f.chunk.js.map